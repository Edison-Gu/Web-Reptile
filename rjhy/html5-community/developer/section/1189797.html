<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8">
  <meta name="format-detection" content="telephone=no">
  <meta name="viewport" content="width=device-width,initial-scale=1.0, maximum-scale=1, minimum-scale=1.0, user-scalable=false, viewport-fit=cover">
  <title>前端社区</title>
  <link rel="stylesheet" href="https://imgcache.qq.com/open_proj/proj_qcloud_v2/gateway/portal/css/global-201911291451.css?max_age=31536000" type="text/css" media="all">
  <link rel="stylesheet" href="https://imgcache.qq.com/open_proj/proj_qcloud_v2/community/portal/css/documents/documents-20189191454.css?max_age=31536000" type="text/css" media="all">
  <link rel="stylesheet" href="https://imgcache.qq.com/open_proj/proj_qcloud_v2/community-pc/build/base/base-202108201021.css?max_age=31536000">
  <link rel="stylesheet" href="https://imgcache.qq.com/qcloud/draft-master/dist/draft-master-v1.4.6.d4s2ddo9sb.css?max_age=31536000">
  <style>
    .c-nav-wrap {
      height: 54px;
    }
    .doc-layout {
      top: 55px;
    }
  </style>
</head>
<body>
  <div class="J-header c-nav-wrap c-nav com-2-nav">
    <div class="c-nav-mod c-nav-mod-pc c-nav-white">
      <div class="J-headerBottom c-nav-bottom responsive">
        <a href="/rjhy/html5-community/developer/index.html" class="c-nav-project-logo" hotrep="community.header.logo.community">
          <i class="c-nav-project-bg-logo">云+社区</i>
        </a>
        <div class="c-nav-bm-categories">
          <ul class="c-nav-list">
            <li class="presentation" id="developer">
              <a href="/rjhy/html5-community/developer/index.html" role="button" hotrep="community.header.nav.devdocs">开发者手册</a>
            </li>
            <li class="presentation" id="article">
              <a href="/rjhy/html5-community/article/index.html" role="button" hotrep="community.header.nav.devdocs">资讯专栏</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  
  <div class="J-body" style="min-height: 765px;">
    <section class="doc-layout">
      <aside class="J-doc-aside-menu doc-aside">

      <div class="doc-aside-search"><div class="com-search-bar"><label class="com-search"><input type="text" placeholder="搜索" class="search-input" value="" maxlength="50"><button type="button" class="search-btn">搜索</button></label></div></div><div class="J-doc-aside-inner doc-aside-inner"><div class="c-tree-view"><ul class="c-tree c-tree-level1"><li id="doc.1018" class="c-tree-item"><a href="../doc/1018.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/ee986e17811d33bae535a2eb2647ecb1.png')"></i><span class="c-tree-text">Bootstrap 4</span></div></a></li><li id="doc.1019" class="c-tree-item"><a href="../doc/1019.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/ee986e17811d33bae535a2eb2647ecb1.png')"></i><span class="c-tree-text">Bootstrap 3</span></div></a></li><li id="doc.1023" class="c-tree-item"><a href="../doc/1023.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/bbd212b11fd3c3fab460eccd54327b6f.png')"></i><span class="c-tree-text">C</span></div></a></li><li id="doc.1024" class="c-tree-item"><a href="../doc/1024.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/09d05f338c9c12c5b10679ab3bc5a371.png')"></i><span class="c-tree-text">C++</span></div></a></li><li id="doc.1037" class="c-tree-item"><a href="../doc/1037.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/aa9ae1024cdb3dbeba059f46468a8d23.png')"></i><span class="c-tree-text">Clojure 1.8</span></div></a></li><li id="doc.1046" class="c-tree-item"><a href="../doc/1046.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/fdd164a44e34c771dcfdabd27e1138b5.png')"></i><span class="c-tree-text">Codeigniter 3</span></div></a></li><li id="doc.1052" class="c-tree-item"><a href="../doc/1052.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/199d202a2a225d118d8df17338635682.png')"></i><span class="c-tree-text">CSS</span></div></a></li><li id="doc.1060" class="c-tree-item"><a href="../doc/1060.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/9f076c75e8aaf04b5a6656982c893ffa.png')"></i><span class="c-tree-text">Docker 17</span></div></a></li><li id="doc.1070" class="c-tree-item"><a href="../doc/1070.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/65668d05b89ba9823e6f36a1a6dda6c5.png')"></i><span class="c-tree-text">Electron</span></div></a></li><li id="doc.1071" class="c-tree-item"><a href="../doc/1071.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/21d7d051e70beb27eb0a961cd948a48d.png')"></i><span class="c-tree-text">Elixir 1.5</span></div></a></li><li id="doc.1075" class="c-tree-item"><a href="../doc/1075.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/20f24c9aaa55d7a1b99ad4a141418cca.png')"></i><span class="c-tree-text">Erlang 20</span></div></a></li><li id="doc.1078" class="c-tree-item"><a href="../doc/1078.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/ddd98094fdaabf06c8c60f1e51935860.png')"></i><span class="c-tree-text">Eslint</span></div></a></li><li id="doc.1079" class="c-tree-item"><a href="../doc/1079.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/c7e9393951ddb914a7af947a0b76d566.png')"></i><span class="c-tree-text">Express</span></div></a></li><li id="doc.1096" class="c-tree-item"><a href="../doc/1096.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/3b9881490538872ca8acfb9c757d536c.png')"></i><span class="c-tree-text">Git</span></div></a></li><li id="doc.1101" class="c-tree-item"><a href="../doc/1101.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/d4561739a3aa0ebb492202ed004f6845.png')"></i><span class="c-tree-text">Go</span></div></a></li><li id="doc.1116" class="c-tree-item"><a href="../doc/1116.html" class="c-tree-title tree-open"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/8281f39e6bb68d4ea66a11ae0c35064e.png')"></i><span class="c-tree-text">HTML</span></div></a><ul class="c-tree c-tree-level2"><li id="chapter.13535-doc.1116" class="c-tree-item"><a href="../chapter/13535.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon"></i><span class="c-tree-text">属性  |  Attributes</span></div></a><ul class="c-tree c-tree-level3"></ul></li><li id="chapter.13536-doc.1116" class="c-tree-item"><a href="../chapter/13536.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon"></i><span class="c-tree-text">要点  |  Elements</span></div></a><ul class="c-tree c-tree-level3"></ul></li><li id="chapter.13537-doc.1116" class="c-tree-item"><a href="../chapter/13537.html" class="c-tree-title tree-open"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon"></i><span class="c-tree-text">其他  |  Miscellaneous</span></div></a><ul class="c-tree c-tree-level3"><li id="section.1189784-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189784.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">Attributes</span></div></a></li><li id="section.1189785-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189785.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">Block-level elements</span></div></a></li><li id="section.1189786-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189786.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">CORS enabled image</span></div></a></li><li id="section.1189787-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189787.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">CORS settings attributes</span></div></a></li><li id="section.1189788-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189788.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">Element</span></div></a></li><li id="section.1189789-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189789.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">Inline elements</span></div></a></li><li id="section.1189790-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189790.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">Kinds of HTML content</span></div></a></li><li id="section.1189791-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189791.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">Link types</span></div></a></li><li id="section.1189792-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189792.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">Microdata</span></div></a></li><li id="section.1189793-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189793.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">Optimizing your pages for speculative parsing</span></div></a></li><li id="section.1189794-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189794.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">Preloading content</span></div></a></li><li id="section.1189795-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189795.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">Reference</span></div></a></li><li id="section.1189796-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189796.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">Supported media formats</span></div></a></li><li id="section.1189797-chapter.13537-doc.1116" class="c-tree-item"><a href="../section/1189797.html" class="c-tree-title tree-hover tree-actived"><div class="c-tree-title-inner"><i class="c-tree-icon"></i><span class="c-tree-text">Using the application cache</span></div></a></li></ul></li><li id="chapter.13538-doc.1116" class="c-tree-item"><a href="../chapter/13538.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon"></i><span class="c-tree-text">废弃  |  Obsolete</span></div></a><ul class="c-tree c-tree-level3"></ul></li></ul></li><li id="doc.1117" class="c-tree-item"><a href="../doc/1117.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/553dd829cd43b9b4b0210d27ad1ffea2.png')"></i><span class="c-tree-text">HTTP</span></div></a></li><li id="doc.1118" class="c-tree-item"><a href="../doc/1118.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/142bb955cebe43dcd15ec5872825cbdf.png')"></i><span class="c-tree-text">Immutable 3.8.1</span></div></a></li><li id="doc.1121" class="c-tree-item"><a href="../doc/1121.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/e7765f3f09d213b1e9a69a5d14ee0a18.png')"></i><span class="c-tree-text">JavaScript</span></div></a></li><li id="doc.1138" class="c-tree-item"><a href="../doc/1138.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/05f5d001238a1ca847c0a29273fb3fdf.png')"></i><span class="c-tree-text">Lodash 4</span></div></a></li><li id="doc.1141" class="c-tree-item"><a href="../doc/1141.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/fe45b8dbc693fd39062c172e06206317.png')"></i><span class="c-tree-text">Lua 5.3</span></div></a></li><li id="doc.1158" class="c-tree-item"><a href="../doc/1158.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/ad00984cfb056d48f054f0b68f0a1ae7.png')"></i><span class="c-tree-text">Nginx</span></div></a></li><li id="doc.1187" class="c-tree-item"><a href="../doc/1187.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/b5d5961eeb147bfc9a935f2fdb76eaa7.png')"></i><span class="c-tree-text">PHP</span></div></a></li><li id="doc.1188" class="c-tree-item"><a href="../doc/1188.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/1e49d3c8513bf0e7752f74c6dc1efeab.png')"></i><span class="c-tree-text">Phpunit 6</span></div></a></li><li id="doc.1198" class="c-tree-item"><a href="../doc/1198.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/c8a0c79bd0559c257793ad02704dfad4.png')"></i><span class="c-tree-text">Python</span></div></a></li><li id="doc.1201" class="c-tree-item"><a href="../doc/1201.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/5c5afe657e4cd0cab6601b5bb1ec9272.png')"></i><span class="c-tree-text">React</span></div></a></li><li id="doc.1202" class="c-tree-item"><a href="../doc/1202.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/5c5afe657e4cd0cab6601b5bb1ec9272.png')"></i><span class="c-tree-text">React native</span></div></a></li><li id="doc.1203" class="c-tree-item"><a href="../doc/1203.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/23bd9465961c415348ddffae0ee80849.png')"></i><span class="c-tree-text">Redis</span></div></a></li><li id="doc.1204" class="c-tree-item"><a href="../doc/1204.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/aac9c7da445187766d7b8974a4478a79.png')"></i><span class="c-tree-text">Redux</span></div></a></li><li id="doc.1211" class="c-tree-item"><a href="../doc/1211.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/b0da03eeec7c332e2b9615934a2d957e.png')"></i><span class="c-tree-text">Ruby 2.4</span></div></a></li><li id="doc.1220" class="c-tree-item"><a href="../doc/1220.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/27f436e35d9b36d4bdd245fd2c7d5a17.png')"></i><span class="c-tree-text">Sass</span></div></a></li><li id="doc.1221" class="c-tree-item"><a href="../doc/1221.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/32c59e4a9b8eab095c26f394ac149b62.png')"></i><span class="c-tree-text">Scikit image</span></div></a></li><li id="doc.1227" class="c-tree-item"><a href="../doc/1227.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/620ef1d0948e33eab98eef2c0440d145.png')"></i><span class="c-tree-text">Socket.IO</span></div></a></li><li id="doc.1228" class="c-tree-item"><a href="../doc/1228.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/132cebf267aea6854ab033a1a6e6592e.png')"></i><span class="c-tree-text">Sqlite</span></div></a></li><li id="doc.1231" class="c-tree-item"><a href="../doc/1231.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/800ff82933f9bd5eee1b18d1955bd476.png')"></i><span class="c-tree-text">SVG</span></div></a></li><li id="doc.1241" class="c-tree-item"><a href="../doc/1241.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/efd0b60404a54763ae096c4176e9d2e6.png')"></i><span class="c-tree-text">TensorFlow Guide</span></div></a></li><li id="doc.1244" class="c-tree-item"><a href="../doc/1244.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/1381358584ecd0a15becada8f8e2017b.png')"></i><span class="c-tree-text">Typescript</span></div></a></li><li id="doc.1245" class="c-tree-item"><a href="../doc/1245.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/6f46eb25195d526f06700a3aa8cc3485.png')"></i><span class="c-tree-text">Underscore</span></div></a></li><li id="doc.1247" class="c-tree-item"><a href="../doc/1247.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/dcc267ca87a633f395baa593a3dd899d.png')"></i><span class="c-tree-text">Vue 2</span></div></a></li><li id="doc.1250" class="c-tree-item"><a href="../doc/1250.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/5f8c9e286f7ca994db07ef8803bba9e8.png')"></i><span class="c-tree-text">Webpack</span></div></a></li><li id="doc.1252" class="c-tree-item"><a href="../doc/1252.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/8c05850b2e13a75546f6c8a1fb7648ef.png')"></i><span class="c-tree-text">Xslt &amp; Xpath</span></div></a></li><li id="doc.1253" class="c-tree-item"><a href="../doc/1253.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/6783dcd935b3976111d85c408df944d7.png')"></i><span class="c-tree-text">Yarn</span></div></a></li><li id="doc.1257" class="c-tree-item"><a href="../doc/1257.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/3834d5e3369eba9f19b64bac1d89d194.png')"></i><span class="c-tree-text">RxJS 5</span></div></a></li><li id="doc.1258" class="c-tree-item"><a href="../doc/1258.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/4ae7011e33bd5fc4e6255a5525bf6cc1.png')"></i><span class="c-tree-text">Rollup.js</span></div></a></li><li id="doc.1260" class="c-tree-item"><a href="../doc/1260.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/091b6c7bc470a4553017a47fdc9c5b5a.png')"></i><span class="c-tree-text">Babel </span></div></a></li><li id="doc.1261" class="c-tree-item"><a href="../doc/1261.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/60b3c2cd3a70a8aae4358a2c5e3821e3.png')"></i><span class="c-tree-text">Parcel</span></div></a></li><li id="doc.1262" class="c-tree-item"><a href="../doc/1262.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/b81b145550929479699e54c3b1f207bb.png')"></i><span class="c-tree-text">MobX</span></div></a></li><li id="doc.1263" class="c-tree-item"><a href="../doc/1263.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/6e14af5a5cc799e479a21c795e0bbfa4.png')"></i><span class="c-tree-text">Koa</span></div></a></li><li id="doc.1264" class="c-tree-item"><a href="../doc/1264.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/e8c49341c863b1adcc85af2b6a2069db.png')"></i><span class="c-tree-text">Angular</span></div></a></li><li id="doc.1265" class="c-tree-item"><a href="../doc/1265.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/caf6b28113950ce4340e06359f49a504.png')"></i><span class="c-tree-text">Gulp</span></div></a></li><li id="doc.1266" class="c-tree-item"><a href="../doc/1266.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/420c7fbb54021275fd17d9c5d1ea2b85.png')"></i><span class="c-tree-text">Grunt</span></div></a></li><li id="doc.1267" class="c-tree-item"><a href="../doc/1267.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/0689f2d1c5100b25abee6b0dadfbb486.png')"></i><span class="c-tree-text">Stylelint</span></div></a></li><li id="doc.1268" class="c-tree-item"><a href="../doc/1268.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/5ef71d8183d09dd0f1dac7c518f3a3cb.png')"></i><span class="c-tree-text">Standard  JS </span></div></a></li><li id="doc.1270" class="c-tree-item"><a href="../doc/1270.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/c1e4f4dbc9f8d54cbbdb94da8a38d6f9.svg')"></i><span class="c-tree-text"> Element UI</span></div></a></li><li id="doc.1271" class="c-tree-item"><a href="../doc/1271.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/2fe503f4c2b328ff294afcee60501005.svg')"></i><span class="c-tree-text">iView UI</span></div></a></li><li id="doc.1272" class="c-tree-item"><a href="../doc/1272.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/0fa336e3bd3b9a45bc0d5f1db0fcda38.svg')"></i><span class="c-tree-text">Lavas</span></div></a></li><li id="doc.1273" class="c-tree-item"><a href="../doc/1273.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/1100f38ef1f4ea051d57e26c2466db85.svg')"></i><span class="c-tree-text">Mint UI</span></div></a></li><li id="doc.1278" class="c-tree-item"><a href="../doc/1278.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/729abeb836afaf86d93dab798353d82c.svg')"></i><span class="c-tree-text">PostCSS </span></div></a></li><li id="doc.1279" class="c-tree-item"><a href="../doc/1279.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/5aa23e8c0965e282fa43c5712dd0d935.svg')"></i><span class="c-tree-text">ThinkJS</span></div></a></li><li id="doc.1281" class="c-tree-item"><a href="../doc/1281.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/0997355bc7bde23cf1faccc32b5de571.png')"></i><span class="c-tree-text">Nest</span></div></a></li><li id="doc.1282" class="c-tree-item"><a href="../doc/1282.html" class="c-tree-title"><div class="c-tree-title-inner"><i class="c-tree-arrow"></i><i class="c-tree-icon" style="background-image:url('https://main.qcloudimg.com/raw/68cb6e2d8b03494a4913c27fa0835c7e.svg')"></i><span class="c-tree-text">npm</span></div></a></li></ul></div></div></aside>
      <div class="doc-main">
      <nav class=" J-doc-crumb doc-crumb"><a href="../doc/1116.html" class="doc-crumb-item"><i class="crumb-icon" style="background-image:url(https://main.qcloudimg.com/raw/8281f39e6bb68d4ea66a11ae0c35064e.png)"></i>HTML</a><span class="doc-crumb-split"></span><a href="../chapter/13537.html" class="doc-crumb-item">其他  |  Miscellaneous</a><span class="doc-crumb-split"></span><span class="doc-crumb-item">Using the application cache</span></nav><div class="J-doc-main doc-main-inner"><div class="doc-main-content"><header class="doc-main-hd"><div class="hd-cnt"><h1 class="hd-title">Using the application cache</h1></div></header><div class="c-markdown doc-markdown"><div><div id="stage-100065037" class="J-stage-100065037 doc-postil"><div class="rno-markdown"><p> <strong>Deprecated</strong></p></div></div></div><div><div id="stage-100065038" class="J-stage-100065038 doc-postil"><div class="rno-markdown"><p>该功能已从Web标准中删除。尽管一些浏览器可能仍然支持它，但它正在被丢弃。避免使用它并尽可能更新现有的代码；请参阅本页底部的兼容性表格来指导您的决定。请注意，此功能可能随时停止工作。</p></div></div></div><div><div id="stage-100065039" class="J-stage-100065039 doc-postil"><div class="rno-markdown"><p>使用此处描述的<em style="font-style:italic">应用程序缓存</em>功能在这一点上非常令人沮丧；它<a data-from="10680" href="https://html.spec.whatwg.org/multipage/browsers.html#offline" target="_blank" rel="nofollow noopener noreferrer">正在从Web平台中移除</a>。改用<a data-from="10680" href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers" target="_blank" rel="nofollow noopener noreferrer">服务人员</a>。事实上，从Firefox 44开始，当AppCache用于为页面提供脱机支持时，控制台中现在会显示一条警告消息，建议开发人员使用<a data-from="10680" href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers" target="_blank" rel="nofollow noopener noreferrer">服务人员</a>（<a data-from="10680" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1204581" target="_blank" rel="nofollow noopener noreferrer">bug 1204581</a>）。</p></div></div></div><div><div id="stage-100065040" class="J-stage-100065040 doc-postil"><div class="rno-markdown"><h2>介绍</h2></div></div></div><div><div id="stage-100065041" class="J-stage-100065041 doc-postil"><div class="rno-markdown"><p><a data-from="10680" href="https://developer.mozilla.org/en-US/docs/Web/HTML/HTML5" target="_blank" rel="nofollow noopener noreferrer">HTML5</a>提供了一种<em style="font-style:italic">应用程序缓存</em>机制，可让基于Web的应用程序脱机运行。开发人员可以使用<strong>应用程序缓存</strong>（<em style="font-style:italic">AppCache</em>）界面来指定浏览器应缓存的资源并使其可供离线用户使用。即使用户在脱机状态下单击刷新按钮，缓存的应用程序也会正常加载并正常工作。</p></div></div></div><div><div id="stage-100065042" class="J-stage-100065042 doc-postil"><div class="rno-markdown"><p>使用应用程序缓存为应用程序提供了以下好处：</p></div></div></div><div><div id="stage-100065043" class="J-stage-100065043 doc-postil"><div class="rno-markdown"><ul class="ul-level-0"><li>离线浏览：用户即使在离线时也可以浏览网站。</li><li>速度：缓存的资源是本地的，因此加载速度更快。</li><li>降低服务器负载：浏览器仅下载从服务器更改的资源。</li></ul></div></div></div><div><div id="stage-100065044" class="J-stage-100065044 doc-postil"><div class="rno-markdown"><h2>应用程序缓存如何工作</h2></div></div></div><div><div id="stage-100065045" class="J-stage-100065045 doc-postil"><div class="rno-markdown"><h3>启用应用程序缓存</h3></div></div></div><div><div id="stage-100065046" class="J-stage-100065046 doc-postil"><div class="rno-markdown"><p>要为应用程序启用应用程序缓存，必须在应用程序页面<code>manifest</code>的<code>&lt;html&gt;</code>元素中包含该属性，如以下示例所示：</p></div></div></div><div><div id="stage-100065047" class="J-stage-100065047 doc-postil markdown-code"><div class="markdown-code-bd"><div class="rno-markdown"><pre class="prism-token token language-javascript">&lt;html manifest="example.appcache"&gt;
  ...
&lt;/html&gt;</pre></div></div></div></div><div><div id="stage-100065048" class="J-stage-100065048 doc-postil"><div class="rno-markdown"><p>清单属性引用<strong>缓存清单</strong>文件，该文件是列出浏览器应为应用程序缓存的资源（文件）的文本文件。</p></div></div></div><div><div id="stage-100065049" class="J-stage-100065049 doc-postil"><div class="rno-markdown"><p>您应该<code>manifest</code>在应用程序的每个页面上包含要缓存的属性。浏览器不会缓存不包含<code>manifest</code>属性的页面，除非这些页面明确列在清单文件本身中。您不需要列出要在清单文件中缓存的所有页面，浏览器会隐式添加用户访问的每个页面，并将<code>manifest</code>属性设置为应用程序缓存。</p></div></div></div><div><div id="stage-100065050" class="J-stage-100065050 doc-postil"><div class="rno-markdown"><p>某些浏览器（例如Firefox）会在用户首次加载使用应用程序缓存的应用程序时显示通知栏。通知栏显示一条消息，例如：</p></div></div></div><div><div id="stage-100065051" class="J-stage-100065051 doc-postil"><div class="rno-markdown"><p>本网站（<code>www.example.com</code>）要求将数据存储在您的计算机上供脱机使用。现在不允许</p></div></div></div><div><div id="stage-100065052" class="J-stage-100065052 doc-postil"><div class="rno-markdown"><p>术语“脱机（启用）应用程序”有时专指用户已允许使用脱机功能的应用程序。</p></div></div></div><div><div id="stage-100065053" class="J-stage-100065053 doc-postil"><div class="rno-markdown"><h3>加载文件</h3></div></div></div><div><div id="stage-100065054" class="J-stage-100065054 doc-postil"><div class="rno-markdown"><p>使用应用程序缓存修改了加载文档的正常过程：</p></div></div></div><div><div id="stage-100065055" class="J-stage-100065055 doc-postil"><div class="rno-markdown"><ul class="ul-level-0"><li>如果应用程序缓存存在，则浏览器直接从缓存中加载文档及其关联资源，而不访问网络。这加快了文档加载时间。</li><li>然后浏览器检查是否已在服务器上更新缓存清单。</li><li>如果缓存清单已更新，浏览器会下载清单的新版本和清单中列出的资源。这是在后台完成的，不会显着影响性能。</li></ul></div></div></div><div><div id="stage-100065056" class="J-stage-100065056 doc-postil"><div class="rno-markdown"><p>下面更详细地指定加载文档和更新应用程序缓存的过程：</p></div></div></div><div><div id="stage-100065057" class="J-stage-100065057 doc-postil"><div class="rno-markdown"><ol class="ol-level-0"><li>当浏览器访问包含<code>manifest</code>属性的文档时，如果没有应用程序缓存存在，浏览器将加载文档，然后获取清单文件中列出的所有条目，从而创建应用程序缓存的第一个版本。</li><li>对该文档的后续访问会导致浏览器从应用程序缓存（而不是从服务器）加载清单文件中指定的文档和其他资产。另外，浏览器还会向对象发送一个<code>checking</code>事件<a data-from="10680" href="https://developer.mozilla.org/en-US/docs/DOM/window.applicationCache" target="_blank" rel="nofollow noopener noreferrer"><code>window.applicationCache</code></a>，并根据适当的HTTP缓存规则获取清单文件。</li><li>如果清单的当前缓存副本是最新的，则浏览器<code>noupdate</code>向该<code>applicationCache</code>对象发送一个事件，并且更新过程完成。请注意，如果您更改服务器上的任何缓存资源，则还必须更改清单文件本身，以便浏览器知道它需要再次获取所有资源。</li><li>如果清单文件<em style="font-style:italic">已</em>更改，则清单中列出的所有文件（以及通过调用添加到高速缓存的文件<a data-from="10680" href="https://developer.mozilla.org/en-US/docs/nsIDOMOfflineResourceList#add.28.29" target="_blank" rel="nofollow noopener noreferrer"><code>applicationCache.add()</code></a>）都会根据相应的HTTP高速缓存规则提取到临时高速缓存中。对于每个获取到该临时缓存中的文件，浏览器都会<code>progress</code>向该<code>applicationCache</code>对象发送一个事件。如果发生任何错误，浏览器将发送一个<code>error</code>事件，并停止更新。</li><li>一旦成功检索到所有文件，它们就会自动移入真正的脱机缓存中，并将<code>cached</code>事件发送到<code>applicationCache</code>对象。由于文档已经从缓存中加载到浏览器中，所以在文档重新加载（手动或编程）之前，更新的文档将不会被渲染。</li></ol></div></div></div><div><div id="stage-100065058" class="J-stage-100065058 doc-postil"><div class="rno-markdown"><h2>存储位置并清除脱机缓存</h2></div></div></div><div><div id="stage-100065059" class="J-stage-100065059 doc-postil"><div class="rno-markdown"><p>在Chrome中，您可以通过在首选项中选择“清除浏览数据...”或通过访问chrome://appcache-internals/来清除脱机缓存。Safari在其偏好设置中有类似的“空缓存”设置，但也可能需要重启浏览器。</p></div></div></div><div><div id="stage-100065060" class="J-stage-100065060 doc-postil"><div class="rno-markdown"><p>在Firefox中，脱机缓存数据与Firefox配置文件分开存储 - 位于常规磁盘缓存旁边：</p></div></div></div><div><div id="stage-100065061" class="J-stage-100065061 doc-postil"><div class="rno-markdown"><ul class="ul-level-0"><li>Windows Vista/7: <code>C:\Users\&lt;username&gt;\AppData\</code><strong><code>Local</code></strong><code>\Mozilla\Firefox\Profiles\&lt;salt&gt;.&lt;profile name&gt;\OfflineCache</code> </li><li>Mac/Linux: <code>/Users/&lt;username&gt;/Library/Caches/Firefox/Profiles/&lt;salt&gt;.&lt;profile name&gt;/OfflineCache</code> </li></ul></div></div></div><div><div id="stage-100065062" class="J-stage-100065062 doc-postil"><div class="rno-markdown"><p>在Firefox中，可以在<code>about:cache</code>页面上检查脱机缓存的当前状态（在“脱机缓存设备”标题下）。可以使用工具 - &gt;选项 - &gt;高级 - &gt;网络 - &gt;离线数据中的“删除...”按钮单独清除每个站点的脱机缓存。</p></div></div></div><div><div id="stage-100065063" class="J-stage-100065063 doc-postil"><div class="rno-markdown"><p>在Firefox 11之前，无论是工具 - &gt;清除最近的历史记录，还是工具 - &gt;选项 - &gt;高级 - &gt;网络 - &gt;离线数据 - &gt;立即清除，都会清除离线缓存。这已被修复。</p></div></div></div><div><div id="stage-100065064" class="J-stage-100065064 doc-postil"><div class="rno-markdown"><p>在Linux上，您可以在编辑&gt;首选项&gt;高级&gt;网络&gt;离线Web内容和用户数据中找到该设置</p></div></div></div><div><div id="stage-100065065" class="J-stage-100065065 doc-postil"><div class="rno-markdown"><p>另请参阅<a data-from="10680" href="https://developer.mozilla.org/en-US/docs/DOM/Storage#Storage_location_and_clearing_the_data" target="_blank" rel="nofollow noopener noreferrer">清除DOM存储数据</a>。</p></div></div></div><div><div id="stage-100065066" class="J-stage-100065066 doc-postil"><div class="rno-markdown"><p>应用程序缓存也可能过时。如果从服务器中删除应用程序的清单文件，浏览器将删除使用该清单的所有应用程序缓存，并向该<code>applicationCache</code>对象发送“已废弃”事件。这将应用程序缓存的状态设置为<code>OBSOLETE</code>。</p></div></div></div><div><div id="stage-100065067" class="J-stage-100065067 doc-postil"><div class="rno-markdown"><h2>缓存清单文件</h2></div></div></div><div><div id="stage-100065068" class="J-stage-100065068 doc-postil"><div class="rno-markdown"><h3>引用缓存清单文件</h3></div></div></div><div><div id="stage-100065069" class="J-stage-100065069 doc-postil"><div class="rno-markdown"><p><code>manifest</code>Web应用程序中的属性可以指定缓存清单文件的相对路径或绝对URL。（绝对URL必须来自与应用程序相同的来源）。缓存清单文件可以具有任何文件扩展名，但它必须以MIME类型提供<code>text/cache-manifest</code>。</p></div></div></div><div><div id="stage-100065070" class="J-stage-100065070 doc-postil"><div class="rno-markdown"><p> <strong>注意：</strong>在Apache服务器上，清单（.appcache）文件的MIME类型可以通过添加<code>AddType text/cache-manifest .appcache</code>到根目录或与应用程序相同的目录中的.htaccess文件来设置。</p></div></div></div><div><div id="stage-100065071" class="J-stage-100065071 doc-postil"><div class="rno-markdown"><h3>缓存清单文件中的条目</h3></div></div></div><div><div id="stage-100065072" class="J-stage-100065072 doc-postil"><div class="rno-markdown"><p>缓存清单文件是一个简单的文本文件，列出了浏览器为了离线访问而缓存的资源。资源由URI标识。缓存清单中列出的条目必须与清单具有相同的方案，主机和端口。</p></div></div></div><div><div id="stage-100065073" class="J-stage-100065073 doc-postil"><div class="rno-markdown"><h3>例1：一个简单的缓存清单文件</h3></div></div></div><div><div id="stage-100065074" class="J-stage-100065074 doc-postil"><div class="rno-markdown"><p>以下是一个简单的缓存清单文件<code>example.appcache</code>，适用于www.example.com上的虚拟网站。</p></div></div></div><div><div id="stage-100065075" class="J-stage-100065075 doc-postil markdown-code"><div class="markdown-code-bd"><div class="rno-markdown"><pre class="prism-token token language-javascript">CACHE MANIFEST
# v1 - 2011-08-13
# This is a comment.
http://www.example.com/index.html
http://www.example.com/header.png
http://www.example.com/blah/blah</pre></div></div></div></div><div><div id="stage-100065076" class="J-stage-100065076 doc-postil"><div class="rno-markdown"><p>缓存清单文件可以包括三个部分（<code>CACHE</code>，<code>NETWORK</code>，和<code>FALLBACK</code>，在下面讨论）。在上面的示例中，没有节头，因此假定所有数据行都位于explicit（<code>CACHE</code>）节中，这意味着浏览器应将所有列出的资源缓存在应用程序缓存中。资源可以使用绝对或相对URL（例如，<code>index.html</code>）指定。</p></div></div></div><div><div id="stage-100065077" class="J-stage-100065077 doc-postil"><div class="rno-markdown"><p>上例中的“v1”注释有一个很好的理由。清单文件更改时，浏览器仅更新应用程序缓存，字节为字节。如果更改缓存的资源（例如，<code>header.png</code>用新内容更新映像），则还必须更改清单文件的内容，以便让浏览器知道他们需要刷新缓存。您可以对清单文件进行任何更改，但建议最佳做法是修改版本号。</p></div></div></div><div><div id="stage-100065078" class="J-stage-100065078 doc-postil"><div class="rno-markdown"><p> <strong>重要提示：</strong>不要在缓存清单文件中指定清单本身，否则几乎不可能通知浏览器新的清单可用。</p></div></div></div><div><div id="stage-100065079" class="J-stage-100065079 doc-postil"><div class="rno-markdown"><h3>在缓存清单文件的部分：<code>CACHE</code>，<code>NETWORK</code>，和<code>FALLBACK</code></h3></div></div></div><div><div id="stage-100065080" class="J-stage-100065080 doc-postil"><div class="rno-markdown"><p>清单可以有三个不同的部分：<code>CACHE</code>，<code>NETWORK</code>，和<code>FALLBACK</code>。</p></div></div></div><div><div id="stage-100065081" class="J-stage-100065081 doc-postil"><div class="rno-markdown"><p><code>CACHE:</code>这是缓存清单文件中条目的默认部分。在<code>CACHE:</code>部分标题下（或直接在该<code>CACHE MANIFEST</code>行后面）列出的文件在第一次下载后被显式缓存。缓存清单文件中<code>NETWORK:</code>的<code>NETWORK:</code>部分标题下列出的文件是需要连接到服务器的白名单资源。即使用户处于离线状态，对这些资源的所有请求都会绕过缓存。通配符<code>*</code>可以使用一次。大多数网站需要<code>*</code>。<code>FALLBACK:</code>该<code>FALLBACK:</code>部分指定浏览器在资源不可访问时应使用的备用页面。本节中的每个条目都列出了两个URI--第一个是资源，第二个是后备。这两个URI必须是相对的，并且来自清单文件的相同来源。可以使用通配符。</p></div></div></div><div><div id="stage-100065082" class="J-stage-100065082 doc-postil"><div class="rno-markdown"><p><code>CACHE</code>，<code>NETWORK</code>和<code>FALLBACK</code>部分可以在高速缓存中的清单文件的任何顺序排列，并且各部分可以在单一清单中出现一次以上。</p></div></div></div><div><div id="stage-100065083" class="J-stage-100065083 doc-postil"><div class="rno-markdown"><h3>示例2：更完整的缓存清单文件</h3></div></div></div><div><div id="stage-100065084" class="J-stage-100065084 doc-postil"><div class="rno-markdown"><p>以下是www.example.com上虚构网站的更完整的缓存清单文件：</p></div></div></div><div><div id="stage-100065085" class="J-stage-100065085 doc-postil markdown-code"><div class="markdown-code-bd"><div class="rno-markdown"><pre class="prism-token token language-javascript">CACHE MANIFEST
# v1 2011-08-14
# This is another comment
index.html
cache.html
style.css
image1.png

# Use from network if available
NETWORK:
network.html

# Fallback content
FALLBACK:
. fallback.html</pre></div></div></div></div><div><div id="stage-100065086" class="J-stage-100065086 doc-postil"><div class="rno-markdown"><p>本例使用<code>NETWORK</code>和<code>FALLBACK</code>部分指定的<code>network.html</code>页面必须始终从网络检索，并且该<code>fallback.html</code>页面应该充当后备资源（例如，在情况下与服务器的连接不能建立）。</p></div></div></div><div><div id="stage-100065087" class="J-stage-100065087 doc-postil"><div class="rno-markdown"><h3>缓存清单文件的结构</h3></div></div></div><div><div id="stage-100065088" class="J-stage-100065088 doc-postil"><div class="rno-markdown"><p>缓存清单文件必须以<code>text/cache-manifest</code>MIME类型提供。使用此MIME类型提供的所有资源必须遵循本节中定义的应用程序缓存清单的语法。</p></div></div></div><div><div id="stage-100065089" class="J-stage-100065089 doc-postil"><div class="rno-markdown"><p>高速缓存清单是UTF-8格式的文本文件，可以选择包含BOM字符。换行符可以由换行符（<code>U+000A</code>），回车符（<code>U+000D</code>）或回车符和换行符来表示。</p></div></div></div><div><div id="stage-100065090" class="J-stage-100065090 doc-postil"><div class="rno-markdown"><p>缓存清单的第一行必须包含字符串<code>CACHE MANIFEST</code>（<code>U+0020</code>两个单词之间有一个空格），后跟零个或多个空格或制表符。该行上的任何其他文本都将被忽略。</p></div></div></div><div><div id="stage-100065091" class="J-stage-100065091 doc-postil"><div class="rno-markdown"><p>缓存清单的其余部分必须包含零个或多个以下行：</p></div></div></div><div><div id="stage-100065092" class="J-stage-100065092 doc-postil"><div class="rno-markdown"><p>空白行您可以使用由零个或多个空格和制表符组成的characters.CommentComments包含零个或多个制表符或空格，后跟单个<code>#</code>字符，后跟零个或多个注释文本字符。注释只能用于他们自己的行（在第一<code>CACHE MANIFEST</code>行之后），不能附加到其他行。这意味着您无法指定片段标识符。部分headerSection标头指定正在处理缓存清单的哪一部分。有三种可能的部分标题：</p></div></div></div><div><div id="stage-100065093" class="J-stage-100065093 doc-postil"><div class="rno-markdown"><blockquote><p>节标题说明`CACHE：`切换到缓存清单的显式部分（这是默认部分）。`NETWORK：`切换到缓存清单的在线白名单部分。`FALLBACK：`切换到缓存清单的后备部分。   </p></blockquote></div></div></div><div><div id="stage-100065094" class="J-stage-100065094 doc-postil"><div class="rno-markdown"><p>部分标题行可能包含空格，但必须<code>:</code>在部分名称中包含冒号 (<code>:</code>)。部分数据数据行的格式因部分而异。在explicit（<code>CACHE:</code>）部分中，每行都是要缓存的资源的有效URI或IRI引用（本节中不允许使用通配符）。在每行的URI或IRI之前和之后允许使用空格。在Fallback部分中，每一行都是对资源的有效URI或IRI引用，随后是在无法与服务器建立连接时要提供的后备资源。在网络部分，每一行都是一个有效的URI或IRI引用，用于从网络中获取资源（或者<code>*</code>可以在本节中使用通配符）。</p></div></div></div><div><div id="stage-100065095" class="J-stage-100065095 doc-postil"><div class="rno-markdown"><p> <strong>注意：</strong>相对URI与缓存清单的URI相关，而不是引用清单的文档的URI。</p></div></div></div><div><div id="stage-100065096" class="J-stage-100065096 doc-postil"><div class="rno-markdown"><p>高速缓存清单文件可以随意从节段切换到节段（每节段标题可以多次使用），并且节段允许为空。</p></div></div></div><div><div id="stage-100065097" class="J-stage-100065097 doc-postil"><div class="rno-markdown"><h2>应用程序缓存中的资源</h2></div></div></div><div><div id="stage-100065098" class="J-stage-100065098 doc-postil"><div class="rno-markdown"><p>应用程序缓存始终包含至少一个由URI标识的资源。所有资源都适用于以下类别之一：</p></div></div></div><div><div id="stage-100065099" class="J-stage-100065099 doc-postil"><div class="rno-markdown"><p>主条目这些是添加到缓存的资源，因为用户访问的浏览上下文包含一个文档，该文档使用其<code>manifest</code>属性指示它位于此缓存中。隐式条目这些是在应用程序的缓存清单文件中明确列出的资源。网络条目这些是应用程序的缓存清单文件作为网络条目。回退条目这些是在应用程序的缓存清单文件中列为备用条目的资源。</p></div></div></div><div><div id="stage-100065100" class="J-stage-100065100 doc-postil"><div class="rno-markdown"><p> <strong>注意：</strong>资源可以使用多个类别进行标记，因此可以分类为多个条目。例如，一个条目既可以是显式条目又可以是后备条目。</p></div></div></div><div><div id="stage-100065101" class="J-stage-100065101 doc-postil"><div class="rno-markdown"><p>下面将更详细地描述资源类别。</p></div></div></div><div><div id="stage-100065102" class="J-stage-100065102 doc-postil"><div class="rno-markdown"><h3>主条目</h3></div></div></div><div><div id="stage-100065103" class="J-stage-100065103 doc-postil"><div class="rno-markdown"><p>主条目是<code>manifest</code>在其<code>&lt;html&gt;</code>元素中包含属性的任何HTML文件。例如，假设我们有HTML文件<a data-from="10680" href="http://www.example.com/entry.html" target="_blank" rel="nofollow noopener noreferrer">http://www.example.com/entry.html</a>，它看起来像这样：</p></div></div></div><div><div id="stage-100065104" class="J-stage-100065104 doc-postil markdown-code"><div class="markdown-code-bd"><div class="rno-markdown"><pre class="prism-token token language-javascript">&lt;html manifest="example.appcache"&gt;
  &lt;h1&gt;Application Cache Example&lt;/h1&gt;
&lt;/html&gt;</pre></div></div></div></div><div><div id="stage-100065105" class="J-stage-100065105 doc-postil"><div class="rno-markdown"><p>如果<code>entry.html</code>未在<code>example.appcache</code>缓存清单文件中列出，则访问该<code>entry.html</code>页面会导致<code>entry.html</code>作为主条目添加到应用程序缓存中。</p></div></div></div><div><div id="stage-100065106" class="J-stage-100065106 doc-postil"><div class="rno-markdown"><h3>显式条目</h3></div></div></div><div><div id="stage-100065107" class="J-stage-100065107 doc-postil"><div class="rno-markdown"><p>显式条目是在<code>CACHE</code>缓存清单文件的部分中明确列出的资源。</p></div></div></div><div><div id="stage-100065108" class="J-stage-100065108 doc-postil"><div class="rno-markdown"><h3>网络条目</h3></div></div></div><div><div id="stage-100065109" class="J-stage-100065109 doc-postil"><div class="rno-markdown"><p><code>NETWORK</code>缓存清单文件的部分指定了Web应用程序需要联机访问的资源。应用程序缓存中的网络条目本质上是“在线白名单” - 该<code>NETWORK</code>节中指定的URI 从服务器而不是缓存中加载。这可以让浏览器的安全模型通过限制对已批准资源的访问来保护用户免受潜在的安全漏洞攻击。</p></div></div></div><div><div id="stage-100065110" class="J-stage-100065110 doc-postil"><div class="rno-markdown"><p>作为示例，您可以使用网络条目从服务器（而不是缓存）加载和执行脚本和其他代码：</p></div></div></div><div><div id="stage-100065111" class="J-stage-100065111 doc-postil markdown-code"><div class="markdown-code-bd"><div class="rno-markdown"><pre class="prism-token token language-javascript">CACHE MANIFEST
NETWORK:
/api</pre></div></div></div></div><div><div id="stage-100065112" class="J-stage-100065112 doc-postil"><div class="rno-markdown"><p>上面列出的缓存清单部分确保加载<a data-from="10680" href="http://www.example.com/api/" target="_blank" rel="nofollow noopener noreferrer"><code>http://www.example.com/api/</code></a>子树中包含的资源的请求始终访问网络，而不尝试访问缓存。</p></div></div></div><div><div id="stage-100065113" class="J-stage-100065113 doc-postil"><div class="rno-markdown"><p> <strong>注意</strong>：从清单文件中简单省略主条目（<code>manifest</code>在<code>html</code>元素中设置了属性的文件）将不会有相同的结果，因为主条目将被添加到应用程序缓存中，并随后从该应用程序缓存中提供。</p></div></div></div><div><div id="stage-100065114" class="J-stage-100065114 doc-postil"><div class="rno-markdown"><h3>后备条目</h3></div></div></div><div><div id="stage-100065115" class="J-stage-100065115 doc-postil"><div class="rno-markdown"><p>当尝试加载资源失败时使用回退条目。例如，假设缓存清单文件<a data-from="10680" href="http://www.example.com/example.appcache" target="_blank" rel="nofollow noopener noreferrer"><code>http://www.example.com/example.appcache</code></a>包含以下内容：</p></div></div></div><div><div id="stage-100065116" class="J-stage-100065116 doc-postil markdown-code"><div class="markdown-code-bd"><div class="rno-markdown"><pre class="prism-token token language-javascript">CACHE MANIFEST
FALLBACK:
example/bar/ example.html</pre></div></div></div></div><div><div id="stage-100065117" class="J-stage-100065117 doc-postil"><div class="rno-markdown"><p>对其<a data-from="10680" href="http://www.example.com/example/bar/" target="_blank" rel="nofollow noopener noreferrer"><code>http://www.example.com/example/bar/</code></a>或其任何子目录及其内容的任何请求都会导致浏览器发出网络请求以尝试加载所请求的资源。如果尝试失败，由于网络故障或某种服务器错误，浏览器会加载<code>example.html</code>文件。</p></div></div></div><div><div id="stage-100065118" class="J-stage-100065118 doc-postil"><div class="rno-markdown"><h2>缓存状态</h2></div></div></div><div><div id="stage-100065119" class="J-stage-100065119 doc-postil"><div class="rno-markdown"><p>每个应用程序缓存都有一个<strong>状态</strong>，用于指示缓存的当前状态。共享相同清单URI的缓存共享相同的缓存状态，可以是以下之一：</p></div></div></div><div><div id="stage-100065120" class="J-stage-100065120 doc-postil"><div class="rno-markdown"><p><code>UNCACHED</code>指示应用程序缓存对象未完全初始化的特殊值。<code>IDLE</code>应用程序缓存当前未处于更新过程中。<code>CHECKING</code>清单正在提取并检查更新。<code>DOWNLOADING</code>由于资源清单发生变化，正在下载资源以添加到缓存中。<code>UPDATEREADY</code>有一个新版本的应用程序缓存可用。有一个相应的<code>updateready</code>事件，<code>cached</code>当一个新的更新被下载但尚未使用该<code>swapCache()</code>方法激活时，将被触发而不是事件。<code>OBSOLETE</code>应用程序缓存组现在已经过时。</p></div></div></div><div><div id="stage-100065121" class="J-stage-100065121 doc-postil"><div class="rno-markdown"><h2>测试缓存清单的更新</h2></div></div></div><div><div id="stage-100065122" class="J-stage-100065122 doc-postil"><div class="rno-markdown"><p>您可以使用JavaScript以编程方式测试以查看应用程序是否具有更新的缓存清单文件。由于缓存清单文件在脚本附加事件侦听器以测试更新之前可能已更新，因此脚本应始终测试<code>window.applicationCache.status</code>。</p></div></div></div><div><div id="stage-100065123" class="J-stage-100065123 doc-postil markdown-code"><div class="markdown-code-bd"><div class="rno-markdown"><pre class="prism-token token language-javascript">function onUpdateReady() {
  console.log('found new version!');
}
window.applicationCache.addEventListener('updateready', onUpdateReady);
if(window.applicationCache.status === window.applicationCache.UPDATEREADY) {
  onUpdateReady();
}</pre></div></div></div></div><div><div id="stage-100065124" class="J-stage-100065124 doc-postil"><div class="rno-markdown"><p>要手动开始测试新清单文件，可以使用<code>window.applicationCache.update()</code>。</p></div></div></div><div><div id="stage-100065125" class="J-stage-100065125 doc-postil"><div class="rno-markdown"><h2>陷阱</h2></div></div></div><div><div id="stage-100065126" class="J-stage-100065126 doc-postil"><div class="rno-markdown"><ul class="ul-level-0"><li>永远不要使用传统的GET参数来访问缓存的文件（如<code>other-cached-page.html?parameterName=value</code>）。这将使浏览器绕过缓存并尝试从网络获取它。要链接到具有JavaScript解析参数的缓存资源，请在链接的散列部分使用参数，例如<code>other-cached-page.html#whatever?parameterName=value</code>。</li><li>当缓存应用程序时，仅更新网页中使用的资源（文件）不足以更新已缓存的文件。您必须在浏览器检索并使用更新的文件之前更新缓存清单文件本身。<code>window.applicationCache.swapCache()</code>尽管已经加载的资源不会受到影响，但您可以通过编程方式使用此功能。为了确保从新版本的应用程序缓存中加载资源，刷新页面非常理想。</li><li>在您的Web服务器上设置过期标题<code>*.appcache</code>以便立即过期的文件是个好主意。这样可以避免缓存清单文件的风险。例如，在Apache中，您可以指定如下配置： <code>ExpiresByType text/cache-manifest "access plus 0 seconds"</code> </li></ul></div></div></div><div><div id="stage-100065127" class="J-stage-100065127 doc-postil"><div class="rno-markdown"><h2>浏览器兼容性</h2></div></div></div><div><div id="stage-100065128" class="J-stage-100065128 doc-postil"><div class="rno-markdown"><div class="table-wrapper"><table><thead><tr><th style="text-align:left"><div class="table-header"><p>Feature</p></div></th><th style="text-align:left"><div class="table-header"><p>Chrome</p></div></th><th style="text-align:left"><div class="table-header"><p>Edge</p></div></th><th style="text-align:left"><div class="table-header"><p>Firefox (Gecko)</p></div></th><th style="text-align:left"><div class="table-header"><p>Internet Explorer</p></div></th><th style="text-align:left"><div class="table-header"><p>Opera</p></div></th><th style="text-align:left"><div class="table-header"><p>Safari</p></div></th></tr></thead><tbody><tr><td style="text-align:left"><div class="table-cell"><p>Basic support</p></div></td><td style="text-align:left"><div class="table-cell"><p>4.0</p></div></td><td style="text-align:left"><div class="table-cell"><p>(Yes)</p></div></td><td style="text-align:left"><div class="table-cell"><p>3.5 (1.9.1)1</p></div></td><td style="text-align:left"><div class="table-cell"><p>10.0</p></div></td><td style="text-align:left"><div class="table-cell"><p>10.6</p></div></td><td style="text-align:left"><div class="table-cell"><p>4.0</p></div></td></tr></tbody></table></div></div></div></div><div><div id="stage-100065129" class="J-stage-100065129 doc-postil"><div class="rno-markdown"><div class="table-wrapper"><table><thead><tr><th style="text-align:left"><div class="table-header"><p>Feature</p></div></th><th style="text-align:left"><div class="table-header"><p>Android</p></div></th><th style="text-align:left"><div class="table-header"><p>Edge</p></div></th><th style="text-align:left"><div class="table-header"><p>Firefox Mobile (Gecko)</p></div></th><th style="text-align:left"><div class="table-header"><p>Firefox OS</p></div></th><th style="text-align:left"><div class="table-header"><p>IE Mobile</p></div></th><th style="text-align:left"><div class="table-header"><p>Opera Mobile</p></div></th><th style="text-align:left"><div class="table-header"><p>Safari Mobile</p></div></th></tr></thead><tbody><tr><td style="text-align:left"><div class="table-cell"><p>Basic support</p></div></td><td style="text-align:left"><div class="table-cell"><p>2.1</p></div></td><td style="text-align:left"><div class="table-cell"><p>(Yes)</p></div></td><td style="text-align:left"><div class="table-cell"><p>(Yes)</p></div></td><td style="text-align:left"><div class="table-cell"><p>1.0.12</p></div></td><td style="text-align:left"><div class="table-cell"><p>11.03</p></div></td><td style="text-align:left"><div class="table-cell"><p>11.0</p></div></td><td style="text-align:left"><div class="table-cell"><p>3.2</p></div></td></tr></tbody></table></div></div></div></div></div><div class="doc-copyright"><p>本文档系腾讯云云+社区成员共同维护，如有问题请联系 <!-- -->yunjia_community@tencent.com</p><time class="copyright-time" datetime="2017-12-18 16:05:30">最后更新于：2017-12-18</time></div></div></div></div>
    </section>
  </div>
  <script>
    const menu = document.querySelectorAll('.J-doc-aside-menu .doc-aside-inner .c-tree-level1 > li')
    menu.forEach((item, index) => {
      const id = item.getAttribute('id')
      if (id != 'doc.1052' && id != 'doc.1116' && id != 'doc.1121') {
        item.style.display = 'none'
      }
    })
    const initHeader = () => {
      const wUrl = window.location.href
      if (wUrl.indexOf('developer') > -1) {
        console.log('wUrl')
        document.getElementById('developer').setAttribute('class', 'presentation curr')
      }
      if (wUrl.indexOf('article') > -1) {
        console.log('wUrl')
        document.getElementById('article').setAttribute('class', 'presentation curr')
      }
    }
    initHeader()
  </script>

</body></html>